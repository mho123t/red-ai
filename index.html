html
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>لوحة تحكم المطعم</title>
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
    }
    header {
      background: #d64933;
      color: white;
      text-align: center;
      padding: 1em;
    }
    .orders {
      padding: 1em;
    }
    .order {
      background: white;
      border: 1px solid #ddd;
      padding: 1em;
      margin-bottom: 1em;
      border-radius: 8px;
    }
    .btn-delete {
      background: red;
      color: white;
      border: none;
      padding: 0.3em 0.6em;
      border-radius: 5px;
      float: left;
      cursor: pointer;
    }
    audio {
      display: none;
    }
  </style>
</head>
<body>

<header>
  <h1>لوحة تحكم ريدان للمندي</h1>
</header>

<div class="orders" id="ordersList">
  <p>جارٍ تحميل الطلبات...</p>
</div>

<audio id="notifSound">
  <source src="notification.mp3" type="audio/mp3" />
</audio>

<script>
  async function loadOrders() {
    const res = await fetch('http://localhost:3000/orders');
    const orders = await res.json();

    const list = document.getElementById('ordersList');
    list.innerHTML = '';

    if (orders.length === 0) {
      list.innerHTML = '<p>لا توجد طلبات حالياً</p>';
      return;
    }

    orders.forEach((order, i) => {
      const div = document.createElement('div');
      div.className = 'order';
      div.innerHTML = `
        <strong>العميل:</strong> ${order.customer.name}<br/>
        <strong>الهاتف:</strong> ${order.customer.phone}<br/>
        <strong>التفاصيل:</strong><br/>
        <ul>${order.items.map(item => `<li>${item.name} - ${item.price} د.إ</li>`).join('')}</ul>
        <button class="btn-delete" onclick="deleteOrder(${i})">حذف</button>
      `;
      list.appendChild(div);

      if (!localStorage.getItem(`seen_${i}`)) {
        notify(i);
        localStorage.setItem(`seen_${i}`, true);
      }
    });
  }

  function deleteOrder(index) {
    fetch(`http://localhost:3000/orders/${index}`, {
      method: 'DELETE'
    }).then(loadOrders);
  }

  function notify(index) {
    const sound = document.getElementById('notifSound');
    sound.play();
    alert('طلب جديد #' + index);
  }

  setInterval(loadOrders, 5000);
  window.onload = loadOrders;
</script>

</body>
</html>
